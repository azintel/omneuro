<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Omneuro Tech Chat</title><style>body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;margin:0;background:#0b0b0c;color:#eee}main{max-width:640px;margin:0 auto;padding:16px}header{font-weight:700;margin-bottom:12px}#chat{border:1px solid #333;border-radius:12px;padding:12px;height:60vh;overflow:auto;background:#121214}form{display:flex;gap:8px;margin-top:12px}input,button{font-size:16px;padding:10px;border-radius:10px;border:1px solid #333;background:#1a1a1c;color:#eee}button{cursor:pointer}li{list-style:none;margin:6px 0;padding:8px 10px;border-radius:10px;max-width:85%}.in{background:#1e293b}.out{background:#064e3b;margin-left:auto;text-align:right}</style></head><body><main><header>Omneuro â€¢ Tech Chat</header><section id="who"><input id="phone" placeholder="Phone" value=""><input id="name" placeholder="Name (optional)" value=""><button id="join">Enter</button></section><ul id="chat"></ul><form id="send" style="display:none"><input id="msg" placeholder="Type a message"><button>Send</button></form></main><script>
let tech_id=null;const chat=document.getElementById('chat');const add=(m,d)=>{const li=document.createElement('li');li.className=d;li.textContent=m;chat.appendChild(li);chat.scrollTop=chat.scrollHeight;}
document.getElementById('join').onclick=async()=>{
  const phone=document.getElementById('phone').value.trim();const name=document.getElementById('name').value.trim();
  if(!phone)return;const r=await fetch('/v1/msg',{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify({phone,name,body:'joined'})});const j=await r.json();tech_id=j.tech_id;document.getElementById('who').style.display='none';document.getElementById('send').style.display='flex';
  const es=new EventSource('/v1/stream?tech_id='+tech_id);es.onmessage=(e)=>{const data=JSON.parse(e.data);const items=data.items||[];for(const it of items){add(it.body,it.dir);} };
};
document.getElementById('send').onsubmit=async(e)=>{e.preventDefault();const v=document.getElementById('msg').value.trim();if(!v)return;document.getElementById('msg').value='';add(v,'in');await fetch('/v1/msg',{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify({phone:'local-'+tech_id,body:v})});};
</script></body></html>
